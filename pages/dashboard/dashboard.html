<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ERP Dashboard - Student Management System</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .dashboard-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            animation: slideDown 0.8s ease;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-50px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .header h1 {
            font-size: 3em;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #fff, #e0e0e0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 30px rgba(255, 255, 255, 0.5);
        }

        .nav-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }

        .nav-link {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            text-decoration: none;
            padding: 10px 20px;
            border-radius: 20px;
            transition: all 0.3s ease;
        }

        .nav-link:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
            text-decoration: none;
            color: white;
        }

        .stats-overview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            animation: fadeInUp 0.6s ease;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transform: translateX(-100%);
            transition: transform 0.3s ease;
        }

        .stat-card:hover::before {
            transform: translateX(0);
        }

        .stat-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.15);
        }

        .stat-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .stat-icon {
            width: 60px;
            height: 60px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .icon-students { background: linear-gradient(135deg, #667eea, #764ba2); }
        .icon-fees { background: linear-gradient(135deg, #00b894, #55efc4); }
        .icon-hostel { background: linear-gradient(135deg, #fdcb6e, #e17055); }
        .icon-library { background: linear-gradient(135deg, #fd79a8, #e84393); }

        .stat-title {
            font-size: 14px;
            color: #666;
            text-transform: uppercase;
            font-weight: 600;
            letter-spacing: 1px;
        }

        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }

        .stat-change {
            display: flex;
            align-items: center;
            font-size: 14px;
            font-weight: 600;
        }

        .change-positive { color: #00b894; }
        .change-negative { color: #e17055; }
        .change-arrow { margin-right: 5px; }

        .charts-section {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }

        .chart-container {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            animation: fadeInLeft 0.8s ease;
        }

        @keyframes fadeInLeft {
            from { opacity: 0; transform: translateX(-30px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .chart-title {
            font-size: 1.5em;
            font-weight: 700;
            color: #333;
        }

        .chart-filter {
            display: flex;
            gap: 10px;
        }

        .filter-btn {
            padding: 8px 16px;
            background: rgba(102, 126, 234, 0.1);
            border: 1px solid rgba(102, 126, 234, 0.3);
            border-radius: 20px;
            color: #667eea;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 12px;
            font-weight: 600;
        }

        .filter-btn:hover, .filter-btn.active {
            background: #667eea;
            color: white;
            transform: translateY(-2px);
        }

        .activities-panel {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            animation: fadeInRight 0.8s ease;
        }

        @keyframes fadeInRight {
            from { opacity: 0; transform: translateX(30px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .activity-item {
            display: flex;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .activity-item:hover {
            background: rgba(102, 126, 234, 0.05);
            border-radius: 10px;
            padding: 15px;
            margin: 0 -15px;
        }

        .activity-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-size: 16px;
            color: white;
        }

        .activity-content {
            flex: 1;
        }

        .activity-title {
            font-weight: 600;
            color: #333;
            margin-bottom: 5px;
        }

        .activity-time {
            font-size: 12px;
            color: #666;
        }

        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .action-btn {
            background: rgba(255, 255, 255, 0.95);
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            text-decoration: none;
            color: inherit;
            animation: zoomIn 0.6s ease;
        }

        @keyframes zoomIn {
            from { opacity: 0; transform: scale(0.8); }
            to { opacity: 1; transform: scale(1); }
        }

        .action-btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
            text-decoration: none;
        }

        .action-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            font-size: 20px;
        }

        .action-title {
            font-weight: 600;
            color: #333;
            margin-bottom: 5px;
        }

        .action-desc {
            font-size: 12px;
            color: #666;
        }

        .performance-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .performance-card {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            animation: fadeInUp 0.8s ease;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(0, 0, 0, 0.1);
            border-radius: 4px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            border-radius: 4px;
            transition: width 2s ease;
            animation: fillProgress 2s ease;
        }

        @keyframes fillProgress {
            from { width: 0%; }
        }

        .weather-widget {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .time-display {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .notifications-panel {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 320px;
            max-height: 400px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            transform: translateX(100%);
            transition: transform 0.3s ease;
        }

        .notifications-panel.show {
            transform: translateX(0);
        }

        .notification-header {
            padding: 20px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .notification-item {
            padding: 15px 20px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .notification-item:hover {
            background: rgba(102, 126, 234, 0.05);
        }

        .notification-urgent {
            border-left: 4px solid #e17055;
        }

        .floating-action {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .floating-action:hover {
            transform: scale(1.1);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
        }

        .floating-menu {
            position: absolute;
            bottom: 70px;
            right: 0;
            display: none;
            flex-direction: column;
            gap: 15px;
        }

        .floating-menu.show {
            display: flex;
            animation: fadeInUp 0.3s ease;
        }

        .floating-menu-item {
            width: 50px;
            height: 50px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            font-size: 20px;
        }

        .floating-menu-item:hover {
            transform: scale(1.1);
            background: white;
        }

        @media (max-width: 768px) {
            .charts-section {
                grid-template-columns: 1fr;
            }
            
            .stats-overview {
                grid-template-columns: 1fr;
            }
            
            .notifications-panel {
                width: 90%;
                right: 5%;
            }
            
            .header h1 {
                font-size: 2em;
            }

            .nav-links {
                flex-direction: column;
                gap: 10px;
            }
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(102, 126, 234, 0.3);
            border-radius: 50%;
            border-top-color: #667eea;
            animation: spin 1s ease-in-out infinite;
            margin: 20px auto;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .alert {
            padding: 15px;
            margin: 20px 0;
            border-radius: 10px;
            font-weight: 600;
        }

        .alert-success {
            background: rgba(0, 184, 148, 0.1);
            color: #00b894;
            border: 1px solid rgba(0, 184, 148, 0.2);
        }

        .alert-warning {
            background: rgba(253, 203, 110, 0.1);
            color: #fdcb6e;
            border: 1px solid rgba(253, 203, 110, 0.2);
        }

        .back-to-main {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(255, 255, 255, 0.9);
            color: #667eea;
            padding: 12px 20px;
            border-radius: 25px;
            text-decoration: none;
            font-weight: 600;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            z-index: 1001;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .back-to-main:hover {
            background: rgba(102, 126, 234, 0.9);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
            text-decoration: none;
        }
    </style>
</head>
<body>
    <!-- Back to Main Button -->
    <a href="/index.html" class="back-to-main">
        <i class="fas fa-arrow-left"></i> Back to ERP System
    </a>

    <div class="dashboard-container">
        <!-- Header -->
        <div class="header">
            <h1><i class="fas fa-graduation-cap"></i> ERP Dashboard</h1>
            <p>Real-time Student Management System Analytics</p>
            
            <div class="weather-widget">
                <div class="time-display" id="currentTime"></div>
                <div><i class="fas fa-sun"></i> Today: Sunny, 24°C | Pimpri, Maharashtra</div>
            </div>
            
            <div class="nav-links">
                <a href="/index.html" class="nav-link"><i class="fas fa-home"></i> Home</a>
                <a href="../admission/admission.html" class="nav-link"><i class="fas fa-user-plus"></i> Admission</a>
                <a href="../fees/fees.html" class="nav-link"><i class="fas fa-money-bill"></i> Fees</a>
                <a href="../hostel/hostel.html" class="nav-link"><i class="fas fa-building"></i> Hostel</a>
                <a href="../library/library.html" class="nav-link"><i class="fas fa-book"></i> Library</a>
            </div>
        </div>

        <!-- Alert Messages -->
        <div id="alertContainer"></div>

        <!-- Stats Overview -->
        <div class="stats-overview">
            <div class="stat-card" onclick="showDetails('students')">
                <div class="stat-header">
                    <div class="stat-title">Total Students</div>
                    <div class="stat-icon icon-students"><i class="fas fa-users"></i></div>
                </div>
                <div class="stat-number" id="totalStudents">0</div>
                <div class="stat-change change-positive">
                    <span class="change-arrow">↗</span>
                    <span>+12 this month</span>
                </div>
            </div>

            <div class="stat-card" onclick="showDetails('fees')">
                <div class="stat-header">
                    <div class="stat-title">Fee Collection</div>
                    <div class="stat-icon icon-fees"><i class="fas fa-rupee-sign"></i></div>
                </div>
                <div class="stat-number" id="totalFees">₹0</div>
                <div class="stat-change change-positive">
                    <span class="change-arrow">↗</span>
                    <span>89% collected</span>
                </div>
            </div>

            <div class="stat-card" onclick="showDetails('hostel')">
                <div class="stat-header">
                    <div class="stat-title">Hostel Occupancy</div>
                    <div class="stat-icon icon-hostel"><i class="fas fa-bed"></i></div>
                </div>
                <div class="stat-number" id="hostelOccupancy">0%</div>
                <div class="stat-change change-positive">
                    <span class="change-arrow">↗</span>
                    <span>456/584 rooms</span>
                </div>
            </div>

            <div class="stat-card" onclick="showDetails('library')">
                <div class="stat-header">
                    <div class="stat-title">Library Books</div>
                    <div class="stat-icon icon-library"><i class="fas fa-book-open"></i></div>
                </div>
                <div class="stat-number" id="libraryBooks">0</div>
                <div class="stat-change change-negative">
                    <span class="change-arrow">↘</span>
                    <span>234 issued today</span>
                </div>
            </div>
        </div>

        <!-- Charts Section -->
        <div class="charts-section">
            <div class="chart-container">
                <div class="chart-header">
                    <div class="chart-title"><i class="fas fa-chart-line"></i> Enrollment Trends</div>
                    <div class="chart-filter">
                        <button class="filter-btn active" onclick="changeChartPeriod('6m', this)">6M</button>
                        <button class="filter-btn" onclick="changeChartPeriod('1y', this)">1Y</button>
                        <button class="filter-btn" onclick="changeChartPeriod('all', this)">All</button>
                    </div>
                </div>
                <canvas id="enrollmentChart" width="400" height="200"></canvas>
            </div>

            <div class="activities-panel">
                <h3 style="margin-bottom: 20px; color: #333;"><i class="fas fa-clock"></i> Recent Activities</h3>
                <div id="activityList">
                    <!-- Activities will be populated here -->
                </div>
            </div>
        </div>

        <!-- Performance Metrics -->
        <div class="performance-grid">
            <div class="performance-card">
                <h3><i class="fas fa-chart-bar"></i> Academic Performance</h3>
                <div style="display: flex; justify-content: space-between; margin: 15px 0;">
                    <span>Average Grade</span>
                    <strong>B+</strong>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 78%"></div>
                </div>
                <small>78% students above average</small>
            </div>

            <div class="performance-card">
                <h3><i class="fas fa-percentage"></i> Fee Collection Rate</h3>
                <div style="display: flex; justify-content: space-between; margin: 15px 0;">
                    <span>This Month</span>
                    <strong>89%</strong>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 89%"></div>
                </div>
                <small>₹45.2L of ₹50.8L collected</small>
            </div>

            <div class="performance-card">
                <h3><i class="fas fa-cogs"></i> System Efficiency</h3>
                <div style="display: flex; justify-content: space-between; margin: 15px 0;">
                    <span>Automation Rate</span>
                    <strong>94%</strong>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 94%"></div>
                </div>
                <small>Reduced manual work by 85%</small>
            </div>
        </div>

        <!-- Quick Actions -->
        <div class="quick-actions">
            <div class="action-btn" onclick="quickAction('addStudent')">
                <div class="action-icon"><i class="fas fa-user-plus"></i></div>
                <div class="action-title">Add Student</div>
                <div class="action-desc">Register new admission</div>
            </div>

            <div class="action-btn" onclick="quickAction('feePayment')">
                <div class="action-icon"><i class="fas fa-credit-card"></i></div>
                <div class="action-title">Fee Payment</div>
                <div class="action-desc">Process fee collection</div>
            </div>

            <div class="action-btn" onclick="quickAction('roomAllocation')">
                <div class="action-icon"><i class="fas fa-home"></i></div>
                <div class="action-title">Room Allocation</div>
                <div class="action-desc">Assign hostel rooms</div>
            </div>

            <div class="action-btn" onclick="quickAction('generateReport')">
                <div class="action-icon"><i class="fas fa-file-alt"></i></div>
                <div class="action-title">Generate Report</div>
                <div class="action-desc">Export analytics data</div>
            </div>

            <div class="action-btn" onclick="quickAction('gradeEntry')">
                <div class="action-icon"><i class="fas fa-pencil-alt"></i></div>
                <div class="action-title">Grade Entry</div>
                <div class="action-desc">Update student marks</div>
            </div>

            <div class="action-btn" onclick="quickAction('libraryMgmt')">
                <div class="action-icon"><i class="fas fa-books"></i></div>
                <div class="action-title">Library Management</div>
                <div class="action-desc">Issue/return books</div>
            </div>
        </div>

        <!-- Additional Charts -->
        <div class="chart-container">
            <div class="chart-header">
                <div class="chart-title"><i class="fas fa-chart-pie"></i> Department-wise Distribution</div>
            </div>
            <canvas id="departmentChart" width="400" height="200"></canvas>
        </div>
    </div>

    <!-- Notifications Panel -->
    <div class="notifications-panel" id="notificationsPanel">
        <div class="notification-header">
            <h3><i class="fas fa-bell"></i> Notifications</h3>
            <button onclick="toggleNotifications()" style="background: none; border: none; font-size: 20px; cursor: pointer;">&times;</button>
        </div>
        <div id="notificationsList">
            <!-- Notifications will be populated here -->
        </div>
    </div>

    <!-- Floating Action Button -->
    <div class="floating-action" onclick="toggleFloatingMenu()">
        <i class="fas fa-bolt" style="color: white; font-size: 24px;"></i>
        <div class="floating-menu" id="floatingMenu">
            <div class="floating-menu-item" onclick="toggleNotifications()">
                <i class="fas fa-bell"></i>
            </div>
            <div class="floating-menu-item" onclick="refreshDashboard()">
                <i class="fas fa-sync-alt"></i>
            </div>
            <div class="floating-menu-item" onclick="exportData()">
                <i class="fas fa-download"></i>
            </div>
            <div class="floating-menu-item" onclick="showHelp()">
                <i class="fas fa-question-circle"></i>
            </div>
        </div>
    </div>

    <script>
        // Dashboard data
        const dashboardData = {
            students: 1247,
            totalFees: 4520000,
            hostelOccupancy: 78,
            libraryBooks: 12450,
            recentActivities: [
                { icon: 'fas fa-user-plus', title: 'New student admission - John Doe', time: '5 minutes ago', color: '#667eea' },
                { icon: 'fas fa-money-bill', title: 'Fee payment received - ₹45,000', time: '15 minutes ago', color: '#00b894' },
                { icon: 'fas fa-bed', title: 'Room allocated - Block A-204', time: '30 minutes ago', color: '#fdcb6e' },
                { icon: 'fas fa-book', title: 'New book added - Data Structures', time: '1 hour ago', color: '#fd79a8' },
                { icon: 'fas fa-graduation-cap', title: 'Exam results published - CS Dept', time: '2 hours ago', color: '#667eea' }
            ],
            notifications: [
                { title: 'Fee Payment Reminder', message: '25 students pending fee payment', time: '10 min ago', urgent: true },
                { title: 'Library Maintenance', message: 'Library will be closed on Sunday', time: '1 hour ago', urgent: false },
                { title: 'New Admission', message: '5 new applications received', time: '2 hours ago', urgent: false }
            ]
        };

        let enrollmentChart, departmentChart;

        // Initialize dashboard
        document.addEventListener('DOMContentLoaded', function() {
            initializeDashboard();
            updateTime();
            setInterval(updateTime, 1000);
        });

        function initializeDashboard() {
            animateCounters();
            loadRecentActivities();
            loadNotifications();
            initializeCharts();
            showWelcomeAlert();
        }

        function animateCounters() {
            animateCounter('totalStudents', dashboardData.students, 0, 'number');
            animateCounter('totalFees', dashboardData.totalFees, 0, 'currency');
            animateCounter('hostelOccupancy', dashboardData.hostelOccupancy, 0, 'percentage');
            animateCounter('libraryBooks', dashboardData.libraryBooks, 0, 'number');
        }

        function animateCounter(elementId, target, current, type) {
            const element = document.getElementById(elementId);
            const increment = target / 100;
            const timer = setInterval(() => {
                current += increment;
                if (current >= target) {
                    current = target;
                    clearInterval(timer);
                }
                
                let displayValue = Math.floor(current);
                switch(type) {
                    case 'currency':
                        displayValue = '₹' + (displayValue / 100000).toFixed(1) + 'L';
                        break;
                    case 'percentage':
                        displayValue = displayValue + '%';
                        break;
                    case 'number':
                        displayValue = displayValue.toLocaleString();
                        break;
                }
                element.textContent = displayValue;
            }, 20);
        }

        function updateTime() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('en-IN', {
                timeZone: 'Asia/Kolkata',
                hour12: true,
                hour: '2-digit',
                minute: '2-digit'
            });
            const timeElement = document.getElementById('currentTime');
            if (timeElement) {
                timeElement.textContent = timeString;
            }
        }

        function loadRecentActivities() {
            const activityList = document.getElementById('activityList');
            activityList.innerHTML = '';
            
            dashboardData.recentActivities.forEach(activity => {
                const activityItem = document.createElement('div');
                activityItem.className = 'activity-item';
                activityItem.innerHTML = `
                    <div class="activity-icon" style="background: ${activity.color};">
                        <i class="${activity.icon}"></i>
                    </div>
                    <div class="activity-content">
                        <div class="activity-title">${activity.title}</div>
                        <div class="activity-time">${activity.time}</div>
                    </div>
                `;
                activityList.appendChild(activityItem);
            });
        }

        function loadNotifications() {
            const notificationsList = document.getElementById('notificationsList');
            notificationsList.innerHTML = '';
            
            dashboardData.notifications.forEach(notification => {
                const notificationItem = document.createElement('div');
                notificationItem.className = `notification-item ${notification.urgent ? 'notification-urgent' : ''}`;
                notificationItem.innerHTML = `
                    <div style="font-weight: 600; margin-bottom: 5px;">${notification.title}</div>
                    <div style="font-size: 14px; color: #666; margin-bottom: 5px;">${notification.message}</div>
                    <div style="font-size: 12px; color: #999;">${notification.time}</div>
                `;
                notificationsList.appendChild(notificationItem);
            });
        }

        function initializeCharts() {
            // Enrollment Chart
            const enrollmentCtx = document.getElementById('enrollmentChart').getContext('2d');
            enrollmentChart = new Chart(enrollmentCtx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    datasets: [{
                        label: 'New Enrollments',
                        data: [65, 78, 90, 81, 96, 105],
                        borderColor: '#667eea',
                        backgroundColor: 'rgba(102, 126, 234, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(0,0,0,0.1)'
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            }
                        }
                    }
                }
            });

            // Department Chart
            const departmentCtx = document.getElementById('departmentChart').getContext('2d');
            departmentChart = new Chart(departmentCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Computer Science', 'Mechanical', 'Electrical', 'Civil', 'IT'],
                    datasets: [{
                        data: [35, 25, 20, 15, 5],
                        backgroundColor: [
                            '#667eea',
                            '#764ba2',
                            '#f093fb',
                            '#f5576c',
                            '#4facfe'
                        ],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });
        }

        function showDetails(type) {
            let message = '';
            switch(type) {
                case 'students':
                    message = 'Total Students: 1,247\n• New admissions this month: 12\n• Active students: 1,235\n• Graduated this year: 234';
                    break;
                case 'fees':
                    message = 'Fee Collection: ₹45.2L\n• Total due: ₹50.8L\n• Collection rate: 89%\n• Pending: ₹5.6L';
                    break;
                case 'hostel':
                    message = 'Hostel Occupancy: 78%\n• Occupied rooms: 456/584\n• Boys hostel: 245/324\n• Girls hostel: 211/260';
                    break;
                case 'library':
                    message = 'Library Books: 12,450\n• Available: 8,216\n• Issued: 4,234\n• New arrivals: 45';
                    break;
            }
            alert(message);
        }

        function changeChartPeriod(period, button) {
            // Remove active class from all buttons
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
            // Add active class to clicked button
            button.classList.add('active');
            
            // Update chart data based on period
            let newData, newLabels;
            switch(period) {
                case '6m':
                    newLabels = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'];
                    newData = [65, 78, 90, 81, 96, 105];
                    break;
                case '1y':
                    newLabels = ['Q1', 'Q2', 'Q3', 'Q4'];
                    newData = [233, 267, 298, 315];
                    break;
                case 'all':
                    newLabels = ['2021', '2022', '2023', '2024'];
                    newData = [890, 1045, 1156, 1247];
                    break;
            }
            
            enrollmentChart.data.labels = newLabels;
            enrollmentChart.data.datasets[0].data = newData;
            enrollmentChart.update();
        }

        function quickAction(action) {
            let message = '';
            switch(action) {
                case 'addStudent':
                    message = 'Redirecting to Student Registration...';
                    break;
                case 'feePayment':
                    message = 'Opening Fee Payment Portal...';
                    break;
                case 'roomAllocation':
                    message = 'Loading Room Allocation System...';
                    break;
                case 'generateReport':
                    message = 'Generating Analytics Report...';
                    break;
                case 'gradeEntry':
                    message = 'Opening Grade Entry System...';
                    break;
                case 'libraryMgmt':
                    message = 'Loading Library Management...';
                    break;
            }
            showAlert(message, 'success');
        }

        function toggleNotifications() {
            const panel = document.getElementById('notificationsPanel');
            panel.classList.toggle('show');
        }

        function toggleFloatingMenu() {
            const menu = document.getElementById('floatingMenu');
            menu.classList.toggle('show');
        }

        function refreshDashboard() {
            showAlert('Dashboard refreshed successfully!', 'success');
            // Add actual refresh logic here
            setTimeout(() => {
                window.location.reload();
            }, 1000);
        }

        function exportData() {
            showAlert('Exporting dashboard data...', 'success');
            // Add export logic here
        }

        function showHelp() {
            alert('ERP Dashboard Help:\n\n• Click on stat cards for detailed information\n• Use chart filters to change time periods\n• Access quick actions for common tasks\n• Check notifications for important updates\n• Use floating menu for additional options');
        }

        function showAlert(message, type = 'success') {
            const alertContainer = document.getElementById('alertContainer');
            const alert = document.createElement('div');
            alert.className = `alert alert-${type}`;
            alert.textContent = message;
            
            alertContainer.appendChild(alert);
            
            setTimeout(() => {
                alert.remove();
            }, 3000);
        }

        function showWelcomeAlert() {
            setTimeout(() => {
                showAlert('Welcome to ERP Dashboard! All systems are running smoothly.', 'success');
            }, 1000);
        }

        // Add some interactivity to cards
        document.addEventListener('click', function(e) {
            if (e.target.closest('.stat-card')) {
                e.target.closest('.stat-card').style.transform = 'translateY(-10px) scale(1.02)';
                setTimeout(() => {
                    if (e.target.closest('.stat-card')) {
                        e.target.closest('.stat-card').style.transform = '';
                    }
                }, 200);
            }
        });

        // Close notifications when clicking outside
        document.addEventListener('click', function(e) {
            const panel = document.getElementById('notificationsPanel');
            const floatingAction = document.querySelector('.floating-action');
            
            if (!panel.contains(e.target) && !floatingAction.contains(e.target)) {
                panel.classList.remove('show');
                document.getElementById('floatingMenu').classList.remove('show');
            }
        });

        // Add keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey) {
                switch(e.key) {
                    case 'r':
                        e.preventDefault();
                        refreshDashboard();
                        break;
                    case 'n':
                        e.preventDefault();
                        toggleNotifications();
                        break;
                    case 'h':
                        e.preventDefault();
                        showHelp();
                        break;
                }
            }
        });
    </script>
</body>
</html>